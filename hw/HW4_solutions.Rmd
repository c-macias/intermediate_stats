---
title: "HW 4"
author: "Frank Edwards"
date: "2/22/2019"
output: html_document
---

Use the gapminder data -- library(gapminder) -- for this question

```{r}
library(gapminder)
library(tidyverse)
```

1. Create an annual global measure of GDP Per Capita using group_by and summarize

```{r}
global<-gapminder%>%
  group_by(year)%>%
  summarise(mean_gdpPercap = mean(gdpPercap))
```

2. Attach this new measure to the gapminder data

```{r}
gapminder_merge<-gapminder%>%
  left_join(global)
```

3. Create a measure that is equal to the ratio of a country-year's GDP per capita to this global average.

```{r}
gapminder_merge<-gapminder_merge%>%
  mutate(gdp_ratio = gdpPercap / mean_gdpPercap)
```


4. Visualize the how this ratio of national GDP to global GDP variable varies across continents and over time. You may need to summarize the data first.

```{r}
gapminder_merge%>%
  group_by(year, continent)%>%
  summarise(y = mean(gdp_ratio))%>%
  ggplot(aes(x = year, y=y,
             color = continent,
             fill = continent)) + 
  geom_line() + 
  ylab("Continent average ratio of GDP to global GPD")
```

